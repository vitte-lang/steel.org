import{a as T,b as I,c as w,d as W,e as F,f as N,j as A}from"./chunk-BFXV4QD4.js";import{a as x,b}from"./chunk-NZYL2M6M.js";import{a as M}from"./chunk-OCKYRLHM.js";import{$a as u,Ba as y,Fa as p,La as d,Ma as e,Na as t,Qa as C,Ra as h,Wa as a,Xa as s,_a as g,ab as f,ra as n,sb as v,tb as _,vb as E,xa as c}from"./chunk-UNNPGNX6.js";function q(o,r){if(o&1&&(e(0,"article",7)(1,"h3"),a(2),t(),e(3,"p"),a(4),t()()),o&2){let m=r.$implicit;n(2),s(m.title),n(2),s(m.text)}}function O(o,r){if(o&1&&(e(0,"article",7)(1,"p"),a(2),t()()),o&2){let m=r.$implicit;n(2),s(m)}}function P(o,r){if(o&1&&(e(0,"p",15),a(1),t()),o&2){let m=h();n(),s(m.messageStatus)}}function k(o,r){if(o&1&&(e(0,"article",7)(1,"h3"),a(2),t(),e(3,"p"),a(4),t()()),o&2){let m=r.$implicit;n(2),s(m.q),n(2),s(m.a)}}var D=class o{constructor(r,m,i){this.state=r;this.api=m;this.auth=i}messageEmail="";messageText="";messageWebsite="";messageTs=Date.now();messageStatus="";get t(){return this.state.t()}async submitMessage(){this.messageStatus="";let r=this.messageEmail||await this.auth.getUserEmail()||void 0;try{await this.api.postMessage({page:"/community",email:r,message:this.messageText,meta:{hp:this.messageWebsite,ts:this.messageTs}}),this.messageText="",this.messageTs=Date.now(),this.messageStatus="Message sent."}catch(m){this.messageStatus=m.message||"Failed to send message"}}static \u0275fac=function(m){return new(m||o)(c(M),c(b),c(x))};static \u0275cmp=y({type:o,selectors:[["app-community"]],decls:51,vars:14,consts:[[1,"section"],[1,"section-head"],[1,"eyebrow"],[1,"section-lead"],[1,"card-grid","three"],["class","panel",4,"ngFor","ngForOf"],[1,"card-grid","two"],[1,"panel"],[1,"form",3,"submit"],["type","email","name","messageEmail",3,"ngModelChange","ngModel"],[1,"honeypot"],["type","text","name","messageWebsite","autocomplete","off",3,"ngModelChange","ngModel"],["rows","4","name","messageText",3,"ngModelChange","ngModel"],["type","submit",1,"btn","primary"],["class","hint",4,"ngIf"],[1,"hint"]],template:function(m,i){m&1&&(e(0,"section",0)(1,"div",1)(2,"p",2),a(3),t(),e(4,"h2"),a(5),t(),e(6,"p",3),a(7),t()(),e(8,"div",4),p(9,q,5,2,"article",5),t()(),e(10,"section",0)(11,"div",1)(12,"p",2),a(13),t(),e(14,"h2"),a(15),t()(),e(16,"div",6),p(17,O,3,1,"article",5),t()(),e(18,"section",0)(19,"div",1)(20,"p",2),a(21,"Contact"),t(),e(22,"h2"),a(23,"Send a message"),t(),e(24,"p",3),a(25,"Login required to send a message."),t()(),e(26,"article",7)(27,"form",8),C("submit",function(l){return i.submitMessage(),l.preventDefault()}),e(28,"label")(29,"span"),a(30,"Email"),t(),e(31,"input",9),f("ngModelChange",function(l){return u(i.messageEmail,l)||(i.messageEmail=l),l}),t()(),e(32,"label",10)(33,"span"),a(34,"Website"),t(),e(35,"input",11),f("ngModelChange",function(l){return u(i.messageWebsite,l)||(i.messageWebsite=l),l}),t()(),e(36,"label")(37,"span"),a(38,"Message"),t(),e(39,"textarea",12),f("ngModelChange",function(l){return u(i.messageText,l)||(i.messageText=l),l}),t()(),e(40,"button",13),a(41,"Send"),t(),p(42,P,2,1,"p",14),t()()(),e(43,"section",0)(44,"div",1)(45,"p",2),a(46),t(),e(47,"h2"),a(48),t()(),e(49,"div",6),p(50,k,5,2,"article",5),t()()),m&2&&(n(3),s(i.t.community.eyebrow),n(2),s(i.t.community.title),n(2),s(i.t.community.lead),n(2),d("ngForOf",i.t.community.cards),n(4),s(i.t.community.linksTitle),n(2),s(i.t.community.linksTitle),n(2),d("ngForOf",i.t.community.links),n(14),g("ngModel",i.messageEmail),n(4),g("ngModel",i.messageWebsite),n(4),g("ngModel",i.messageText),n(3),d("ngIf",i.messageStatus),n(4),s(i.t.faq.eyebrow),n(2),s(i.t.faq.title),n(2),d("ngForOf",i.t.faq.items))},dependencies:[E,v,_,A,N,T,I,w,F,W],encapsulation:2})};export{D as CommunityComponent};
